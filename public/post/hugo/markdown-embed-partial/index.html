<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Hugo Markdown 里嵌入局部模板 - Error Logs</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Razon Yang" />
  <meta name="description" content="笔者在编写博文时，喜欢使用一些表情包，比如：
但是对于相同的表情包，如果每篇博文都复制相同的代码段， 后续修改时就苦不堪言了，于是乎笔者开始寻求可以复用的方法。
 由于博客是使用 Hugo 搭建的，所以本文只适用 Hugo。 " />







<meta name="generator" content="Hugo 0.50-DEV" />


<link rel="canonical" href="https://errlogs.com/post/hugo/markdown-embed-partial/" />

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" href="/favicon.ico" />
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">




<link href="/dist/even.min.css?v=2.6.6" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">

<meta property="og:title" content="Hugo Markdown 里嵌入局部模板" />
<meta property="og:description" content="笔者在编写博文时，喜欢使用一些表情包，比如：




但是对于相同的表情包，如果每篇博文都复制相同的代码段，
后续修改时就苦不堪言了，于是乎笔者开始寻求可以复用的方法。


由于博客是使用 Hugo 搭建的，所以本文只适用 Hugo。
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://errlogs.com/post/hugo/markdown-embed-partial/" /><meta property="article:published_time" content="2017-11-21T17:44:17&#43;08:00"/>
<meta property="article:modified_time" content="2017-11-21T17:44:17&#43;08:00"/>

<meta itemprop="name" content="Hugo Markdown 里嵌入局部模板">
<meta itemprop="description" content="笔者在编写博文时，喜欢使用一些表情包，比如：




但是对于相同的表情包，如果每篇博文都复制相同的代码段，
后续修改时就苦不堪言了，于是乎笔者开始寻求可以复用的方法。


由于博客是使用 Hugo 搭建的，所以本文只适用 Hugo。
">


<meta itemprop="datePublished" content="2017-11-21T17:44:17&#43;08:00" />
<meta itemprop="dateModified" content="2017-11-21T17:44:17&#43;08:00" />
<meta itemprop="wordCount" content="543">



<meta itemprop="keywords" content="hugo," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Hugo Markdown 里嵌入局部模板"/>
<meta name="twitter:description" content="笔者在编写博文时，喜欢使用一些表情包，比如：




但是对于相同的表情包，如果每篇博文都复制相同的代码段，
后续修改时就苦不堪言了，于是乎笔者开始寻求可以复用的方法。


由于博客是使用 Hugo 搭建的，所以本文只适用 Hugo。
"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Error Logs</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">主页</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">归档</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">标签</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">分类</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Error Logs</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">主页</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">归档</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">标签</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">分类</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Hugo Markdown 里嵌入局部模板</h1>

      <div class="post-meta">
        <span class="post-time">Created at 2017-11-21 17:44 </span>
	<span class="post-time">Updated at 2017-11-21 17:44 </span>
        <div class="post-category">
            
              <a href="/categories/development/"> development </a>
            
          </div>
        <span class="more-meta"> 约 543 字 </span>
        <span class="more-meta"> 预计阅读 2 分钟 </span>
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">文章目录</h2>
    <div class="post-toc-content">
        <nav id="TableOfContents">
<ul>
<li><a href="#尝试">尝试</a></li>
<li><a href="#解决方案">解决方案</a></li>
</ul>
</nav>
    </div>

    
</div>

    
    <div class="post-content">
      <p>笔者在编写博文时，喜欢使用一些表情包，比如：</p>


<img
    src="/img/emoji/for-example.jpeg"
    title="for-example"
    alt="for-example"
    
    
/>

<p>但是对于相同的表情包，如果每篇博文都复制相同的代码段，
后续修改时就苦不堪言了，于是乎笔者开始寻求可以复用的方法。</p>

<blockquote>
<p>由于博客是使用 Hugo 搭建的，所以本文只适用 Hugo。
</p>
</blockquote>

<h1 id="尝试">尝试</h1>

<p>当时脑海浮现的第一个想法：是否可以在 Markdown 里面嵌入局部模板呢？</p>

<p>于是乎，创建了一个局部模板 <code>for-example.html</code>：</p>

<pre><code class="language-html">&lt;img src=&quot;/img/emoji/for-example.jpeg&quot; alt=&quot;for example&quot; title=&quot;for example&quot; width=&quot;150!important&quot;&gt;
</code></pre>

<p>接着，使用局部模板:</p>

<pre><code>{{ partial &quot;for-example.html&quot; }}
</code></pre>

<p>但是事情发展并没有那么顺利，于是查看官方文档和搜索相关资料，最后皇天不负有心人找到了解决方案。</p>

<h1 id="解决方案">解决方案</h1>

<blockquote>
<p>Shortcodes are a means to consolidate templating into small, reusable snippets that you can embed directly inside of your content.
 In this sense, you can think of shortcodes as the intermediary between page and list templates and basic content files.</p>
</blockquote>

<p>也就是说，shortcodes 可以使得内容里嵌入模板。</p>

<p>首先，在 <code>layouts/shortcodes</code> 目录下创建一个 <code>partial.html</code>，用于嵌入局部模板：</p>

<pre><code>{{ partial (.Get 0) }}
</code></pre>

<blockquote>
<p>其中 <code>(.Get 0)</code> 获取 shortcodes 的第一个参数，此处用于获取局部模板的名称。</p>
</blockquote>

<p>接着，需要创建需要复用的局部模板，因为我一开始已经创建了局部模板（<code>for-example.html</code>），跳过这一步。</p>

<p>最后，我们只需要在 Markdown 里，使用 shortcodes：</p>

<pre><code>{{&lt; partial &quot;for-example.html&quot; &gt;}}
</code></pre>

<blockquote>
<p>这里的 <code>partial</code> 是指 <code>layouts/shortcodes/partial.html</code>，<code>for-example.html</code> 是模板的名称。</p>
</blockquote>

<p>至此大功告成，以后修改更新都非常方便！</p>

<p>文档：<a href="https://gohugo.io/templates/shortcode-templates/">Hugo Shortcodes</a></p>
    </div>

    
    

    
    

    <footer class="post-footer">
      <div class="post-tags">
          
          <a href="/tags/hugo/">hugo</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/hugo/eacape-shorcodes/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Hugo 转义 Shorcodes</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/php/retrieve-info-from-url/">
            <span class="next-text nav-default">PHP 获取 URL 信息</span>
            <span class="prev-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>

      

    </footer>
  </article>
        </div>
        
  <div id="disqus_thread"></div>
    <script type="text/javascript">
    (function() {
        
        
        if (window.location.hostname === 'localhost') return;

        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        var disqus_shortname = 'errlogs';
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com/" class="dsq-brlink" target="_blank">comments powered by <span class="logo-disqus">Disqus</span></a>

  
      </div>  
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:razonyang@gmail.com" class="iconfont icon-email" title="email"></a>
      <a href="https://stackoverflow.com/users/7377118/razon-yang" class="iconfont icon-stack-overflow" title="stack-overflow"></a>
      <a href="https://twitter.com/razonyang" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://github.com/razonyang" class="iconfont icon-github" title="github"></a>
  <a href="https://errlogs.com/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="copyright-year">
    &copy; 
    
      2016 - 
    2018
    <span class="author">Razon Yang</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
<script src="/lib/highlight/highlight.pack.js?v=20171001"></script>
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>
<script type="text/javascript" src="/dist/even.min.js?v=2.6.6"></script>
  <script type="text/javascript">
    window.MathJax = {
      showProcessingMessages: false,
      messageStyle: 'none'
    };
  </script>
  <script async src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML'></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-97403777-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>



</body>
</html>
